<div class="page goods-receipt-po">
  <div class="page-header">
    <span class="page-title">
      {{pageTitle | translate}}
      <span (click)="bookMark()">
        <mat-icon [ngClass]="!isBookMark ? 'save-book-mark': 'not-save-book-mark'">
          star
        </mat-icon>
      </span>
    </span>
    <div class="page-actions">
      <button (click)="addGoodsReceipt()" class="btn btn-labeled btn-add" type="button">
        <span class="btn-label"><i class="material-icons">add</i></span>
        <span class="button-label">
          {{'general.button.add' | translate}}
        </span></button>
    </div>

  </div>
  <div class="page-body">
    <div class="page-section">
      <div class="validation-div">
        <input [attr.placeholder]="placeholder" class="form-control text-left error-border-color" type="text"/>
        <!-- <textarea rows="{{Rows}}" class="form-control autosizeme text-left" [attr.placeholder]="placeholder" [(ngModel)]="value" (blur)="onBlur(value)" (keypress.enter)="KeypressEnter(value)" (change)="onChange(value)"
                  [ngClass]="{'error_border-color': ErrorEntity !== null}" [disabled]="Disabled" *ngIf="Type == 'TEXTAREA'" [style.height]="Height"></textarea> -->
        <div class="invalid-validation">
          loi me roi
        </div>
      </div>
    </div>
    <div class="page-section">
      <div class="row d-flex pb-3">
        <div class="col-sm-2 d-flex date-picker align-items-center n-p-r">
          <label class="">{{'general.fromDate' | translate}}</label>
          <input [matDatepicker]="picker" class="form-control input-datepicker ml-1 mr-1 " matInput
                 placeholder="dd/mm/yyyy">
          <mat-datepicker #picker></mat-datepicker>
          <div (click)="openDatePicker(picker)" role="button">
            <mat-icon>calendar_today</mat-icon>
          </div>
        </div>
        <div class="col-sm-2 d-flex date-picker align-items-center n-p-l  n-p-r">
          <label>{{'general.toDate' | translate}}</label>
          <input [matDatepicker]="datepicker" class="form-control input-datepicker ml-1 mr-1" matInput
                 placeholder="dd/mm/yyyy">
          <mat-datepicker #datepicker></mat-datepicker>
          <div (click)="openToDatePicker(datepicker)" role="button">
            <mat-icon>calendar_today</mat-icon>
          </div>
        </div>
        <button class="btn btn-labeled btn-add get-data" type="button">
          {{'general.button.getData' | translate}}</button>
      </div>

      <p-table #table (onLazyLoad)="sort($event)" [customSort]="true" [lazy]="true"
               [resizableColumns]="true" [scrollable]="true" [value]="goodsReceiptList" scrollHeight="500px">
        <ng-template pTemplate="colgroup">
          <colgroup>
            <col>
            <col>
            <col>
          </colgroup>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th data-qe-id="table-thead-created-date" pResizableColumn>
              {{ 'goodsReceipt.createdDate' | translate}}
              <p-sortIcon class="float-right"></p-sortIcon>
            </th>
            <th data-qe-id="table-thead-document-number" pResizableColumn>
              {{ 'goodsReceipt.purchaseOrderNumber' | translate}}
              <p-sortIcon class="float-right"></p-sortIcon>
            </th>
            <th data-qe-id="table-thead-receipted-date" pResizableColumn>
              {{ 'goodsReceipt.receiptedDate' | translate}}
              <p-sortIcon class="float-right"></p-sortIcon>
            </th>
            <th data-qe-id="table-thead-inventory-code" pResizableColumn>
              {{ 'goodsReceipt.inventoryCode' | translate}}
              <p-sortIcon class="float-right"></p-sortIcon>
            </th>
            <th data-qe-id="table-thead-inventory-address" pResizableColumn>
              {{ 'goodsReceipt.inventoryAddress' | translate}}
              <p-sortIcon class="float-right"></p-sortIcon>
            </th>
            <th data-qe-id="table-thead-description" pResizableColumn>
              {{ 'goodsReceipt.description' | translate}}
              <p-sortIcon class="float-right"></p-sortIcon>
            </th>
            <th data-qe-id="table-thead-creator" pResizableColumn>
              {{ 'goodsReceipt.creator' | translate}}
              <p-sortIcon class="float-right"></p-sortIcon>
            </th>
            <th data-qe-id="table-thead-status" pResizableColumn>
              {{ 'goodsReceipt.status' | translate}}
              <p-sortIcon class="float-right"></p-sortIcon>
            </th>
            <th pResizableColumn> {{'general.action' | translate }} </th>
          </tr>
          <tr>
            <!-- <th class="th-filter">
                <app-advanced-filters [filter]="goodsReceiptSearchEntity.code" (changeFilter)="getList()"
                    data-qe-id="table-thead-filter-code">
                </app-advanced-filters>
            </th>
            <th class="th-filter">
                <app-advanced-filters [filter]="goodsReceiptSearchEntity.name" (changeFilter)="getList()"
                    data-qe-id="table-thead-filter-name">
                </app-advanced-filters>
            </th>
            <th class="th-filter">
                <app-simple-select [key]="'name'" [list]="goodsReceiptTypes"
                    [initialValue]="goodsReceiptSearchEntity.typeId"
                    (selectionChange)="goodsReceiptSearchEntity.typeId = $event; getList()"
                    (listOpen)="opengoodsReceiptTypes($event)">
                </app-simple-select>
            </th>
            <th class="th-filter">
                <app-simple-select [key]="'name'" [list]="goodsReceiptStatuses"
                    [initialValue]="goodsReceiptSearchEntity.typeId"
                    (selectionChange)="goodsReceiptSearchEntity.statusId = $event; getList()"
                    (listOpen)="opengoodsReceiptStatuses($event)">
                </app-simple-select>
            </th> -->
          </tr>
        </ng-template>
        <ng-template let-goodsReceipt let-index="rowIndex" pTemplate="body">
          <tr [attr.data-qe-id]="'table-tbody-row-' + index">
            <td> {{goodsReceipt.createdDate}} </td>
            <td> {{goodsReceipt.documentNumber}} </td>
            <td> {{goodsReceipt.receiptedDate}} </td>
            <td> {{goodsReceipt.inventoryCode}} </td>
            <td> {{goodsReceipt.inventoryAddress}} </td>
            <td> {{goodsReceipt.description }} </td>
            <td> {{goodsReceipt.creator }} </td>
            <td> {{goodsReceipt.status }} </td>
            <td>
              <div class="d-flex">
                <div class="view-detail mr-2">
                  <mat-icon>remove_red_eye</mat-icon>
                </div>
                <div (click)="editGoodsReceipt()" class="edit">
                  <mat-icon>edit</mat-icon>
                </div>

              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
      <div class="pagination">
        <app-pagination data-qe-id="pagination"></app-pagination>
      </div>

    </div>
  </div>
</div>
