<div class="page detail-supplier-group">
  <div class="page-header">
    <span class="page-title">
      {{'detailSupplierGroup.detail.title' | translate}}
    </span>
    <div class="page-actions">
      <button class="btn btn-cancel" data-qe-id="button-cancel">
        {{'general.button.cancel' | translate}}
      </button>
      <button class="btn btn-save" data-qe-id="button-save">
        {{'general.button.save' | translate}}
      </button>
    </div>
  </div>
  <div class="page-body">
    <div class="page-section">
      <accordion>
        <accordion-group [isOpen]="true">
          <button (click)="onClickOpen($event)" class="btn btn-link btn-block clearfix" accordion-heading>
            <div class="pull-left float-left">{{'detailSupplierGroup.tab_1.general' | translate }}</div>
            <span class="float-right pull-right" accordion-heading>
              <i class="fas " [ngClass]="isOpenTab1 ? 'fa-caret-down' : 'fa-caret-up'"></i>
            </span>
          </button>
          <div class="row">
            <div class="form-group col">
              <label for="supplier_code">
                {{'detailSupplierGroup.code' | translate}}
                <span class="text-danger ml-1"> * </span>
              </label>
              <input type="text" class="form-control" id="supplier_code" data-qe-id="detail-form-general-code">
              <app-error *ngIf="form.controls.Display?.errors?.invalidUsername || !!form.get('name')?.value"
                [formGroup]="form" [property]="'name'" [placement]="'top'" class="error-form">
              </app-error>
            </div>
            <div class="form-group col">
              <label for="supplier_name">
                {{'detailSupplierGroup.name' | translate}}
                <span class="text-danger ml-1"> * </span>
              </label>
              <input type="text" class="form-control" id="supplier_name" data-qe-id="detail-form-general-name">
            </div>

            <div class="form-group col">
              <label for="tax_code">
                {{'detailSupplierGroup.tax_code' | translate}}
              </label>
              <input type="text" class="form-control" id="tax_code" data-qe-id="detail-form-general-tax-code">
            </div>
          </div>

          <div class="row">
            <div class="form-group col-4">
              <label for="supplier_status">
                {{'detailSupplierGroup.status' | translate}}
                <span class="text-danger ml-1"> * </span>
              </label>
              <app-single-select data-qe-id="detail-form-general-status"></app-single-select>
            </div>
            <!-- <div class="form-group col"></div> -->
            <div class="form-group col-8">
              <label for="supplier_more_details">
                {{'detailSupplierGroup.more_details' | translate}}
              </label>
              <textarea name="supplier_more_details" id="supplier_more_details" rows="1" class="form-control"
                data-qe-id="detail-form-general-more-detail"></textarea>
            </div>
            <div class="form-group col-4">
              <label>
                {{'detailSupplierGroup.payment_terms' | translate}}
              </label>
              <app-single-select data-qe-id="detail-form-general-payment-term"></app-single-select>
            </div>
            <div class="form-group col-4">
              <label>
                {{'detailSupplierGroup.due_in_days' | translate}}
              </label>
              <input type="text" class="form-control" data-qe-id="detail-form-general-due-in-days">
            </div>
            <div class="form-group col-4">
              <label>
                {{'detailSupplierGroup.debt_load' | translate}}
              </label>
              <input type="text" class="form-control" data-qe-id="detail-form-general-debt-load">
            </div>
            <div class="form-group col-4">
              <label>
                {{'detailSupplierGroup.pic' | translate}}
              </label>
              <app-single-select data-qe-id="detail-form-general-pic"></app-single-select>
            </div>
            <div class="form-group col-4">
              <label>
                {{'detailSupplierGroup.supplier_group' | translate}}
              </label>
              <app-single-select data-qe-id="detail-form-general-supplier-group"></app-single-select>
            </div>
          </div>
        </accordion-group>
        <accordion-group>
          <button (click)="onClickOpenTab2()" class="btn btn-link btn-block clearfix" accordion-heading>
            <div class="pull-left float-left">{{'detailSupplierGroup.contacts.title' | translate }}</div>
            <span class="float-right pull-right" accordion-heading>
              <i class="fas " [ngClass]="!isOpenTab2 ? 'fa-caret-down' : 'fa-caret-up'"></i>
            </span>
          </button>
          <div class="d-flex justify-content-end">
            <button class="btn btn-add" (click)="toggleContactsModal()" data-qe-id="button-add-contact">
              {{'detailSupplierGroup.contacts.add' | translate}}

            </button>
          </div>

          <div class="mt-2">
            <p-table [value]="[]" [scrollable]="true" scrollHeight="500px" [resizableColumns]="true" #table>
              <ng-template pTemplate="colgroup">
                <colgroup>
                  <col>
                  <col>
                  <col>
                  <col>
                  <col>
                  <col>
                </colgroup>
              </ng-template>
              <ng-template pTemplate="header">
                <tr>
                  <th pResizableColumn data-qe-id="table-thead-contacts-code">
                    {{'detailSupplierGroup.contacts.code' | translate}}
                  </th>
                  <th pResizableColumn data-qe-id="table-thead-contacts-recipient">
                    {{'detailSupplierGroup.contacts.recipient' | translate}}
                  </th>
                  <th pResizableColumn data-qe-id="table-thead-contacts-phone-number">
                    {{'detailSupplierGroup.contacts.phone_number' | translate}}
                  </th>
                  <th pResizableColumn data-qe-id="table-thead-contacts-email">
                    {{'detailSupplierGroup.contacts.email' | translate}}
                  </th>
                  <th pResizableColumn data-qe-id="table-thead-contacts-city">
                    {{'detailSupplierGroup.contacts.city' | translate}}
                  </th>
                  <th pResizableColumn data-qe-id="table-thead-contacts-address">
                    {{'detailSupplierGroup.contacts.address' | translate}}
                  </th>
                </tr>
              </ng-template>
            </p-table>
          </div>

        </accordion-group>
        <accordion-group>
          <button (click)="onClickOpenTab3()" class="btn btn-link btn-block clearfix" accordion-heading>
            <div class="pull-left float-left">{{'detailSupplierGroup.bank_account.title' | translate }}</div>
            <span class="float-right pull-right" accordion-heading>
              <i class="fas " [ngClass]="!isOpenTab3 ? 'fa-caret-down' : 'fa-caret-up'"></i>
            </span>
          </button>
          <div class="d-flex justify-content-end">
            <button class="btn btn-add" (click)="toggleBankAccountsModal()" data-qe-id="button-add-bank-account">
              {{'detailSupplierGroup.bank_account.add' | translate}}
            </button>
          </div>
          <div class="mt-2">
            <p-table [value]="[]" [scrollable]="true" scrollHeight="500px" [resizableColumns]="true" #tableBankAccount>
              <ng-template pTemplate="colgroup">
                <colgroup>
                  <col>
                  <col>
                  <col>
                  <col>
                  <col>
                  <col>
                  <col>
                </colgroup>
              </ng-template>
              <ng-template pTemplate="header">
                <tr>
                  <th pResizableColumn data-qe-id="table-thead-bank-code">
                    {{'detailSupplierGroup.bank_account.code' | translate}}
                  </th>
                  <th pResizableColumn data-qe-id="table-thead-bank-name">
                    {{'detailSupplierGroup.bank_account.bank_name' | translate}}
                  </th>
                  <th pResizableColumn data-qe-id="table-thead-bank-account-owner">
                    {{'detailSupplierGroup.bank_account.account_owner' | translate}}
                  </th>
                  <th pResizableColumn data-qe-id="table-thead-bank-account-number">
                    {{'detailSupplierGroup.bank_account.account_number' | translate}}
                  </th>
                  <th pResizableColumn data-qe-id="table-thead-bank-province">
                    {{'detailSupplierGroup.bank_account.province' | translate}}
                  </th>
                  <th pResizableColumn data-qe-id="table-thead-bank-division">
                    {{'detailSupplierGroup.bank_account.bank_division' | translate}}
                  </th>
                  <th pResizableColumn data-qe-id="table-thead-bank-address">
                    {{'detailSupplierGroup.bank_account.bank_address' | translate}}
                  </th>
                </tr>
              </ng-template>
            </p-table>
          </div>
        </accordion-group>
      </accordion>
    </div>
  </div>
  <div class="page-footer d-flex">
    <div class="page-actions-delete">
      <a mwlConfirmationPopover [popoverTitle]="popoverTitle" [popoverMessage]="popoverMessage" placement="bottom"
        (confirm)="confirmClicked = true" (cancel)="cancelClicked = true" (click)="onClickDelete()">
        {{ 'general.button.delete' | translate}}</a>
    </div>
    <div class="page-actions">
      <button class="btn btn-cancel mr-2" (click)="display = false" data-qe-id="dialog-button-cancel">
        {{'general.button.cancel' | translate}}
      </button>
      <button class="btn btn-add mr-2" data-qe-id="button-save">
        {{'general.button.save' | translate}}
      </button>
    </div>
  </div>
</div>


<p-dialog modal="true" [(visible)]="bankAccountsModal">
  <p-header>
    {{'detailSupplierGroup.bank_accounts.add' | translate}}
  </p-header>
  <form class="container">
    <div class="row">
      <div class="form-group col-6">
        <label>
          {{'detailSupplierGroup.bank_account.bank_name' | translate}}
          <span class="text-danger mr-2">*</span>
        </label>
        <app-single-select data-qe-id="dialog-bank-account"></app-single-select>
      </div>
      <div class="form-group col-6">
        <label>
          {{'detailSupplierGroup.bank_account.account_owner' | translate}}
          <span class="text-danger mr-2">*</span>
        </label>
        <input type="text" class="form-control">
      </div>
      <div class="form-group col-6">
        <label>
          {{'detailSupplierGroup.bank_account.account_number' | translate}}
          <span class="text-danger mr-2">*</span>
        </label>
        <input type="text" class="form-control">
      </div>
      <div class="form-group col-6">
        <label>
          {{'detailSupplierGroup.bank_account.bank_division' | translate}}
        </label>
        <input type="text" class="form-control">
      </div>
      <div class="form-group col-6">
        <label>
          {{'detailSupplierGroup.bank_account.province' | translate}}
        </label>
        <input type="text" class="form-control">
      </div>
      <div class="form-group col-6">
        <label>
          {{'supplier.bank_account.bank_address' | translate}}
        </label>
        <input type="text" class="form-control">
      </div>
    </div>
  </form>
  <p-footer>
    <div class="row">
      <div class="col-sm-6">
        <div class="page-actions-delete">
          <a mwlConfirmationPopover [popoverTitle]="popoverTitle" data-qe-id="dialog-button-delete"
            [popoverMessage]="popoverMessage" placement="bottom" (confirm)="delete()" data-qe-id="button-delete">
            {{ 'general.button.delete' | translate}}</a>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="page-actions">
          <button class="btn btn-cancel mr-2" (click)="cancel()" data-qe-id="dialog-button-cancel">
            {{'general.button.cancel' | translate}}
          </button>
          <button class="btn btn-add mr-2" data-qe-id="button-save">
            {{'general.button.save' | translate}}
          </button>
        </div>
      </div>
    </div>
  </p-footer>
</p-dialog>

<p-dialog modal="true" [(visible)]="contactsModal">
  <p-header>
    {{'detailSupplierGroup.contacts.add' | translate}}
  </p-header>
  <form class="container">
    <div class="row">
      <div class="form-group col-6">
        <label>
          {{'detailSupplierGroup.contacts.recipient' | translate}}
          <span class="text-danger mr-2">*</span>
        </label>
        <input type="text" class="form-control">
      </div>
      <div class="form-group col-6">
        <label>
          {{'detailSupplierGroup.contacts.phone_number' | translate}}
          <span class="text-danger mr-2">*</span>
        </label>
        <input type="text" class="form-control">
      </div>
      <div class="form-group col-6">
        <label>
          {{'detailSupplierGroup.contacts.email' | translate}}
        </label>
        <input type="text" class="form-control">
      </div>
      <div class="form-group col-6">
        <label>
          {{'detailSupplierGroup.contacts.address' | translate}}
        </label>
        <input type="text" class="form-control">
      </div>
    </div>
  </form>
  <p-footer>
    <div class="row">
      <div class="col-sm-6">
        <div class="page-actions-delete">
          <a mwlConfirmationPopover [popoverTitle]="popoverTitle" data-qe-id="dialog-button-delete"
            [popoverMessage]="popoverMessage" placement="bottom" (confirm)="delete()" data-qe-id="button-delete">
            {{ 'general.button.delete' | translate}}</a>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="page-actions">
          <button class="btn btn-cancel mr-2" (click)="display = false" data-qe-id="dialog-button-cancel">
            {{'general.button.cancel' | translate}}
          </button>
          <button class="btn btn-add mr-2" data-qe-id="button-save">
            {{'general.button.save' | translate}}
          </button>
        </div>
      </div>
    </div>
  </p-footer>
</p-dialog>