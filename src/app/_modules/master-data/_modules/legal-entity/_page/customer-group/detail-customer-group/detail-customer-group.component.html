<div class="page">
  <div class="page-header">
    <span class="page-title">
      {{'detail_customer_group.detail.title' | translate}}
      <span (click)="onClickSaveBookMark($event)">
        <mat-icon [ngStyle]="{'color': !isSavedBookMark ? '#3D464D' : '#FCE205'}">
          star
        </mat-icon>
      </span>
    </span>
    <div class="page-actions">
      <button class="btn btn-save">
        {{'general.button.save' | translate}}
      </button>
      <button class="btn btn-cancel">
        {{'general.button.cancel' | translate}}
      </button>
      <button class="btn btn-delete">
        {{'general.button.delete' | translate}}
      </button>
    </div>
  </div>
  <div class="page-body">
    <div class="page-section">
        <accordion>
          <accordion-group [isOpen]="true">
            <button (click)="onClickOpen($event)" class="btn btn-link btn-block clearfix" accordion-heading>
              <div class="pull-left float-left">{{'detail_customer_group.tab_1.general' | translate }}</div>
              <span class="float-right pull-right" accordion-heading>
                <i class="fas " [ngClass]="isOpenTab1 ? 'fa-caret-down' : 'fa-caret-up'"></i>
              </span>
            </button>
            <div class="row">
              <div class="form-group col">
                <label for="customer_code">
                  {{'customer.code' | translate}}
                  <span class="text-danger ml-1"> * </span>
                </label>
                <input type="text" class="form-control" id="customer_code">
                <app-error *ngIf="form.controls.Display?.errors?.invalidUsername || !!form.get('name')?.value"
                           [formGroup]="form" [property]="'name'" [placement]="'top'" class="error-form">
                </app-error>
              </div>
              <div class="form-group col">
                <label for="customer_name">
                  {{'customer.name' | translate}}
                  <span class="text-danger ml-1"> * </span>
                </label>
                <input type="text" class="form-control" id="customer_name">
              </div>

              <div class="form-group col">
                <label for="tax_code">
                  {{'customer.tax_code' | translate}}
                </label>
                <input type="text" class="form-control" id="tax_code">
              </div>
            </div>

            <div class="row">
              <div class="form-group col-4">
                <label for="customer_status">
                  {{'customer.status' | translate}}
                </label>
                <app-single-select></app-single-select>
              </div>
              <!-- <div class="form-group col"></div> -->
              <div class="form-group col-8">
                <label for="customer_more_details">
                  {{'customer.more_details' | translate}}
                </label>
                <textarea name="customer_more_details" id="customer_more_details" rows="1"
                          class="form-control"></textarea>
              </div>
              <div class="form-group col-4">
                <label>
                  {{'detail_customer_group.payment_terms' | translate}}
                </label>
                <app-single-select></app-single-select>
              </div>
              <div class="form-group col-4">
                <label>
                  {{'detail_customer_group.due_in_days' | translate}}
                </label>
                <input type="text" class="form-control">
              </div>
              <div class="form-group col-4">
                <label>
                  {{'detail_customer_group.debt_load' | translate}}
                </label>
                <input type="text" class="form-control">
              </div>
              <div class="form-group col-4">
                <label>
                  {{'detail_customer_group.pic' | translate}}
                </label>
                <app-single-select></app-single-select>
              </div>
              <div class="form-group col-4">
                <label>
                  {{'detail_customer_group.customer_group' | translate}}
                </label>
                <app-single-select></app-single-select>
              </div>
            </div>
          </accordion-group>
          <accordion-group>
            <button (click)="onClickOpenTab2()" class="btn btn-link btn-block clearfix" accordion-heading>
              <div class="pull-left float-left">{{'detail_customer_group.bank_accounts.title' | translate }}</div>
              <span class="float-right pull-right" accordion-heading>
                <i class="fas " [ngClass]="!isOpenTab2 ? 'fa-caret-down' : 'fa-caret-up'"></i>
              </span>
            </button>
            <div class="d-flex justify-content-end">
              <button class="btn btn-add" (click)="toggleContactsModal()">
                {{'detail_customer_group.contacts.add' | translate}}

              </button>
            </div>

            <div class="mt-2">
              <p-table [value]="[]">
                <ng-template pTemplate="header">
                  <tr>
                    <th>
                      {{'detail_customer_group.contacts.code' | translate}}
                    </th>
                    <th>
                      {{'detail_customer_group.contacts.recipient' | translate}}
                    </th>
                    <th>
                      {{'detail_customer_group.contacts.phone_number' | translate}}
                    </th>
                    <th>
                      {{'detail_customer_group.contacts.email' | translate}}
                    </th>
                    <th>
                      {{'detail_customer_group.contacts.city' | translate}}
                    </th>
                    <th>
                      {{'detail_customer_group.contacts.address' | translate}}
                    </th>
                  </tr>
                </ng-template>
              </p-table>
            </div>

          </accordion-group>
          <accordion-group>
            <button (click)="onClickOpenTab3()" class="btn btn-link btn-block clearfix" accordion-heading>
              <div class="pull-left float-left">{{'customer.contacts.title' | translate }}</div>
              <span class="float-right pull-right" accordion-heading>
                <i class="fas " [ngClass]="!isOpenTab3 ? 'fa-caret-down' : 'fa-caret-up'"></i>
              </span>
            </button>
            <div class="d-flex justify-content-end">
              <button class="btn btn-add" (click)="toggleBankAccountsModal()">
                {{'customer.bank_accounts.add' | translate}}
              </button>
            </div>
            <div class="mt-2">
              <p-table [value]="[]">
                <ng-template pTemplate="header">
                  <tr>
                    <th>
                      {{'detail_customer_group.bank_account.code' | translate}}
                    </th>
                    <th>
                      {{'detail_customer_group.bank_account.bank_name' | translate}}
                    </th>
                    <th>
                      {{'detail_customer_group.bank_account.account_owner' | translate}}
                    </th>
                    <th>
                      {{'detail_customer_group.bank_account.account_number' | translate}}
                    </th>
                    <th>
                      {{'detail_customer_group.bank_account.province' | translate}}
                    </th>
                    <th>
                      {{'detail_customer_group.bank_account.bank_division' | translate}}
                    </th>
                    <th>
                      {{'detail_customer_group.bank_account.bank_address' | translate}}
                    </th>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </accordion-group>
        </accordion>
    </div>
  </div>
</div>


<p-dialog modal="true" [(visible)]="bankAccountsModal">
    <p-header>
      {{'detail_customer_group.bank_accounts.add' | translate}}
    </p-header>
    <form class="container">
      <div class="row">
        <div class="form-group col-6">
          <label>
            {{'detail_customer_group.bank_account.bank_name' | translate}}
            <span class="text-danger mr-2">*</span>
          </label>
          <app-single-select></app-single-select>
        </div>
        <div class="form-group col-6">
          <label>
            {{'detail_customer_group.bank_account.account_owner' | translate}}
            <span class="text-danger mr-2">*</span>
          </label>
          <input type="text" class="form-control">
        </div>
        <div class="form-group col-6">
          <label>
            {{'detail_customer_group.bank_account.account_number' | translate}}
            <span class="text-danger mr-2">*</span>
          </label>
          <input type="text" class="form-control">
        </div>
        <div class="form-group col-6">
          <label>
            {{'detail_customer_group.bank_account.bank_division' | translate}}
          </label>
          <input type="text" class="form-control">
        </div>
        <div class="form-group col-6">
          <label>
            {{'detail_customer_group.bank_account.province' | translate}}
          </label>
          <input type="text" class="form-control">
        </div>
        <div class="form-group col-6">
          <label>
            {{'customer.bank_account.bank_address' | translate}}
          </label>
          <input type="text" class="form-control">
        </div>
      </div>
    </form>
    <p-footer>
      <ng-template *ngIf="isAdd; else notAdd">
        <button class="btn btn-add mr-2">
          {{'general.button.add' | translate}}
        </button>
        <button class="btn btn-cancel">
          {{'general.button.cancel' | translate}}
        </button>
      </ng-template>
      <ng-template #notAdd>
        <button class="btn btn-add mr-2">
          {{'general.button.save' | translate}}
        </button>
        <button class="btn btn-cancel mr-2">
          {{'general.button.cancel' | translate}}
        </button>
        <button class="btn btn-delete">
          {{'general.button.delete' | translate}}
        </button>
      </ng-template>
    </p-footer>
  </p-dialog>
  
  <p-dialog modal="true" [(visible)]="contactsModal">
    <p-header>
      {{'detail_customer_group.contacts.add' | translate}}
    </p-header>
    <form class="container">
      <div class="row">
        <div class="form-group col-6">
          <label>
            {{'detail_customer_group.contacts.recipient' | translate}}
            <span class="text-danger mr-2">*</span>
          </label>
          <input type="text" class="form-control">
        </div>
        <div class="form-group col-6">
          <label>
            {{'detail_customer_group.contacts.phone_number' | translate}}
            <span class="text-danger mr-2">*</span>
          </label>
          <input type="text" class="form-control">
        </div>
        <div class="form-group col-6">
          <label>
            {{'detail_customer_group.contacts.email' | translate}}
          </label>
          <input type="text" class="form-control">
        </div>
        <div class="form-group col-6">
          <label>
            {{'detail_customer_group.contacts.address' | translate}}
          </label>
          <input type="text" class="form-control">
        </div>
      </div>
    </form>
    <p-footer>
      <ng-template *ngIf="isAdd; else notAdd">
        <button class="btn btn-add mr-2">
          {{'general.button.add' | translate}}
        </button>
        <button class="btn btn-cancel">
          {{'general.button.cancel' | translate}}
        </button>
      </ng-template>
      <ng-template #notAdd>
        <button class="btn btn-add mr-2">
          {{'general.button.save' | translate}}
        </button>
        <button class="btn btn-cancel mr-2">
          {{'general.button.cancel' | translate}}
        </button>
        <button class="btn btn-delete">
          {{'general.button.delete' | translate}}
        </button>
      </ng-template>
    </p-footer>
  </p-dialog>