<div class="advanced-filter" (clickOutside)="closeDropdown()" (click)="$event.stopPropagation()">
  <div #pane class="filter-pane {{ dropdownDirection }}">
    <div class="ui-inputgroup d-flex p-1">
      <span class="ui-inputgroup-addon">
        {{filterTypeSign}}
      </span>
      <input *ngIf="!isDateFilter; else dateFilter"
             type="{{inputType}}"
             class="form-control"
             (keyup)="onKeyUp($event)"
             [(ngModel)]="filterValue"
             placeholder="{{'advancedFilter.placeholder' | translate}}">
      <ng-template #dateFilter>
        <div class="flex-grow-1">
          <app-date-picker (valueChange)="onApplyFilter($event)"
                           [(value)]="filterValue"></app-date-picker>
        </div>
      </ng-template>
      <div class="input-group-append">
        <button #toggler class="btn" type="button" (click)="toggleList()">
          <i class="fas fa-filter"></i>
        </button>
      </div>
    </div>
    <div [@toggleMenu]="listState" *ngIf="isOpened">
      <div class="select-list">
        <ul class="dropdown-menu">
          <li *ngFor="let type of types"
              class="dropdown-item d-flex align-items-center"
              (click)="onSelectType(type)">
            <span>{{'advancedFilter.' + type.code | translate}}</span>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
