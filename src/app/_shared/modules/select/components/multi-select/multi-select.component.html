<app-select [disabled]="disabled"
            [listDirection]="listDirection">
  <app-select-head (closeList)="closeList($event)"
                   (headClick)="onHeadClick($event)"
                   (openList)="openList($event)"
                   (clear)="onClear()"
                   (toggleList)="toggleList($event)"
                   [label]="selectedText"
  ></app-select-head>
  <app-select-body *ngIf="isOpened"
                   (clickOutside)="onClickOutside($event)"
                   [@toggleMenu]="listState">
    <app-select-search (search)="search.emit($event)"></app-select-search>
    <app-select-spinner *ngIf="isLoading; else notLoading"></app-select-spinner>
    <ng-template #notLoading>
      <ng-template [ngIf]="hasSelected">
        <div class="py-2 pl-4 d-flex align-items-center border-bottom">
          <span class="h4 font-weight-bold">
            {{'select.selectedList' | translate}}
          </span>
        </div>
        <app-select-list (selectionChange)="unselect($event)"
                         [dataSource]="selectedList"
                         [key]="key"
                         selected="true"
        ></app-select-list>
      </ng-template>
      <ng-container *ngIf="hasData; else empty">
        <div class="py-2 pl-4 d-flex align-items-center border-bottom">
          <span class="h4 font-weight-bold">
            {{'select.availableList' | translate}}
          </span>
        </div>
        <app-select-list (selectionChange)="select($event)"
                         [dataSource]="list"
                         [key]="key"
        ></app-select-list>
      </ng-container>
      <ng-template #empty>
        <app-no-data></app-no-data>
      </ng-template>
    </ng-template>
  </app-select-body>
</app-select>
